{"version":3,"sources":["locales sync /^/.//.*//virtualclient/.json$","resources/icons/launch-app.svg","resources/icons/refresh.svg","resources/icons/home.svg","resources/icons/back.svg","resources/icons/overview.svg","resources/icons/volume-down.svg","resources/icons/volume-up.svg","resources/icons/volume-mute.svg","resources/icons/screen-lock.svg","resources/icons/screen-unlock.svg","resources/icons/rotate-portrait.svg","resources/icons/rotate-landscape.svg","resources/icons/receive-sms.svg","resources/icons/receive-call.svg","resources/icons/ui-action.svg","utils/Constants.js","utils/NotificationUtils.js","i18n.js","utils/APIUtils.js","actions/MouseAction.js","actions/MouseController.js","components/DeviceNavigationBar.jsx","actions/KeyboardAction.js","actions/KeyboardController.jsx","components/DeviceViewer.jsx","resources/images/blank.png","utils/Dialer.jsx","resources/icons/stop.svg","resources/icons/stop-disabled.svg","components/DeviceToolBar.jsx","utils/Resizer.jsx","resources/icons/processing.svg","resources/icons/chevron-left.svg","resources/icons/chevron-right.svg","components/DeviceTestSteps.jsx","resources/icons/notifier/info.svg","resources/icons/notifier/success.svg","resources/icons/notifier/warning.svg","resources/icons/notifier/error.svg","resources/icons/notifier/close.svg","utils/Notifier.jsx","resources/icons/feedback.svg","utils/Feedback.jsx","VirtualClient.jsx","serviceWorker.js","index.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","HomeApp","APIBaseUrl","URLSearchParams","window","location","search","get","BoundsUnit","PlatformName","DeviceType","ANDROID","IOS","EMULATOR","SIMULATOR","Orientation","ActionType","HWAction","LAUNCH","icon","SVG_launchapp","label","CLOSE","REFRESH","SVG_refresh","HOME","SVG_home","BACK","SVG_back","OVERVIEW","SVG_overview","VOLUMEDOWN","SVG_volumedown","VOLUMEUP","SVG_volumeup","VOLUMEMUTE","SVG_volumemute","CAMERA","SCREENLOCK","SVG_screenlock","SCREENUNLOCK","SVG_screenunlock","ROTATEPORTRAIT","SVG_rotateportrait","ROTATELANDSCAPE","SVG_rotatelandscape","RECEIVESMSNOTIFICATON","SVG_receivesms","RECEIVECALL","SVG_receivecall","UIAction","TAP","SVG_uiaction","LONGTAP","SCROLL","SWIPE","DOUBLETAP","INPUT","ENTERTEXT","CLICK","DOUBLECLICK","HOTKEY","HOVER","DRAG","SETVALUE","INPUTKEYS","SELECT","TAPTPOINT","InputAction","MouseEventType","Severity","EditClass","createNotification","title","message","severity","closable","isNotificationError","notification","resources","forEach","l","require","console","log","i18n","use","initReactI18next","LngDetector","init","fallbackLng","lowerCaseLng","detection","order","keySeparator","interpolation","escapeValue","postSteps","sessionId","actiontype","actionName","actionArgs","url","axios","post","Date","getTime","postHWSteps","handler","then","response","recordedSteps","data","recordedsteps","catch","t","closeSession","delete","MouseAction","this","name","startx","starty","endx","endy","startTime","buttonPressed","x","y","actionargs","JSON","stringify","buildActionArgs","MouseController","action","zoomFactor","Math","abs","event","target","button","naturalHeight","clientHeight","rect","getBoundingClientRect","round","clientX","left","clientY","top","type","setStartPosition","setEndPosition","isSwipe","isTap","isLongTap","max","min","naturalWidth","DeviceNavigationBar","onOverview","clearTimeout","homeTimeoutId","performAction","onHome","isAndroid","setTimeout","onBack","props","platformName","onInitAction","onAction","homeDblClickHandler","className","src","SVG_Overview","alt","onClick","SVG_Home","onDoubleClick","SVG_Back","Component","KeyboardAction","value","SpecialChar","keyCode","KeyboardController","onKeyUp","state","textContent","setSpecialChars","keyboardTimeout","text","specialChars","setState","keyboardListener","document","addEventListener","HTMLInputElement","HTMLTextAreaElement","includes","activeElementClass","focus","specialChar","filter","c","ref","el","placeholder","onChange","DeviceViewer","mobileScreenshot","snapshotData","snapshotError","viewer","mouseController","selectedControlBounds","mouseEventTimeouts","bind","prevProps","getMobileScreenshot","actionProcessed","refreshScreenshot","actionProcessing","refresh","headers","screenshot","onIncomingScreenshot","orientation","error","r","status","errorId","onNotification","perform","class","coordinates","handleEvent","tap","_","cloneDeep","push","bounds","split","b","bound","parseInt","width","right","height","bottom","processingClass","selectedControlVisible","orientationClass","visibleClass","visibility","disableClass","draggable","onMouseDown","onMouseEvent","onMouseUp","onMouseLeave","style","getSelectedControlBounds","Dialer","dial","onDial","toggle","isSMS","phoneNumber","op","hide","onHide","parentElement","btnLabel","appendTo","getTarget","for","keyfilter","RegExp","rows","disabled","canDial","DeviceToolBar","onCloseSession","removeEventListener","closeListener","close","onRefreshScreenshot","toggleRotate","toggleScreenLock","screenLocked","onVolumeUp","onVolumeDown","onVolumeMute","onSendMessage","persist","dialerToggle","onMakeCall","onDialPerformed","tooltip","btnClassName","isIOSSimulator","deviceName","startsWith","disabledClass","platformClass","stopIcon","SVG_Stop","SVG_Stop_Disabled","rotateIcon","SVG_Landscape","SVG_Portrait","lockIcon","SVG_Unlock","SVG_Lock","renderButton","SVG_Refresh","SVG_Volume_Up","SVG_Volume_Down","SVG_Volume_Mute","SVG_Sms","SVG_Call","MouseMove","MouseUp","Resizer","startResize","resize","stopResize","body","buttons","w","documentElement","clientWidth","autoSize","DeviceTestSteps","toggleMinimized","minimized","onMinimize","steps","stepsContainer","stepsContent","actionNames","actions","a","isTextInputRunning","slice","length","scrollToBottom","sSteps","pSteps","scrollTop","scrollHeight","svgName","SVG_processing","key","step","details","controlDetails","parse","control","role","minimizedClass","headerIcon","SVG_Left","SVG_Right","index","stepLabel","getStepsLabel","addStep","getSvgActionIcon","Notifier","onClose","hidden","svgIcon","SVG_info","SVG_success","SVG_warning","SVG_error","undefined","hiddenClass","severityClass","getSvgIcon","SVG_close","Feedback","href","rel","SVG_Feedback","VirtualClient","initialised","screenlockTimeoutId","viewerVisibility","onInitActionPerformed","resetAppiumTimeout","onActionPerformed","resetState","package","appPackage","onTestStepsMinimize","sessionClosed","appActivity","iOSBundleId","orgId","deviceId","statusIntervalId","platformVersion","appiumTimeoutId","appiumIntervalId","appiumUrl","success","params","appUid","d","appname","device","devicename","sessionid","getDeviceDisplayName","restoreSession","finally","handleCloseEvent","setInterval","timeLeft","minutes","floor","seconds","time","match","exec","toUpperCase","viewerClass","Boolean","hostname","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.7e64520b.chunk.js","sourcesContent":["var map = {\n\t\"./cs/virtualclient.json\": 67,\n\t\"./de/virtualclient.json\": 68,\n\t\"./en/virtualclient.json\": 69,\n\t\"./es/virtualclient.json\": 70,\n\t\"./fr/virtualclient.json\": 71,\n\t\"./hu/virtualclient.json\": 72,\n\t\"./it/virtualclient.json\": 73,\n\t\"./ja/virtualclient.json\": 74,\n\t\"./ko/virtualclient.json\": 75,\n\t\"./pl/virtualclient.json\": 76,\n\t\"./pt-br/virtualclient.json\": 77,\n\t\"./ru/virtualclient.json\": 78,\n\t\"./tr/virtualclient.json\": 79,\n\t\"./zh-cn/virtualclient.json\": 80,\n\t\"./zh-tw/virtualclient.json\": 81\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 66;","export default __webpack_public_path__ + \"static/media/launch-app.e6d8bb9a.svg\";","export default __webpack_public_path__ + \"static/media/refresh.353a6bed.svg\";","export default __webpack_public_path__ + \"static/media/home.5315bd46.svg\";","export default __webpack_public_path__ + \"static/media/back.e2d426e2.svg\";","export default __webpack_public_path__ + \"static/media/overview.ff35d25b.svg\";","export default __webpack_public_path__ + \"static/media/volume-down.eaf29ea5.svg\";","export default __webpack_public_path__ + \"static/media/volume-up.8cd3df0c.svg\";","export default __webpack_public_path__ + \"static/media/volume-mute.651550bf.svg\";","export default __webpack_public_path__ + \"static/media/screen-lock.c5a2be38.svg\";","export default __webpack_public_path__ + \"static/media/screen-unlock.f57afea1.svg\";","export default __webpack_public_path__ + \"static/media/rotate-portrait.75dd5032.svg\";","export default __webpack_public_path__ + \"static/media/rotate-landscape.a309c8d5.svg\";","export default __webpack_public_path__ + \"static/media/receive-sms.49514a3c.svg\";","export default __webpack_public_path__ + \"static/media/receive-call.3d32daf0.svg\";","export default __webpack_public_path__ + \"static/media/ui-action.f70fea51.svg\";","import SVG_launchapp from '../resources/icons/launch-app.svg';\r\nimport SVG_refresh from '../resources/icons/refresh.svg';\r\nimport SVG_home from '../resources/icons/home.svg';\r\nimport SVG_back from '../resources/icons/back.svg';\r\nimport SVG_overview from '../resources/icons/overview.svg';\r\nimport SVG_volumedown from '../resources/icons/volume-down.svg';\r\nimport SVG_volumeup from '../resources/icons/volume-up.svg';\r\nimport SVG_volumemute from '../resources/icons/volume-mute.svg';\r\nimport SVG_screenlock from '../resources/icons/screen-lock.svg';\r\nimport SVG_screenunlock from '../resources/icons/screen-unlock.svg';\r\nimport SVG_rotateportrait from '../resources/icons/rotate-portrait.svg';\r\nimport SVG_rotatelandscape from '../resources/icons/rotate-landscape.svg';\r\nimport SVG_receivesms from '../resources/icons/receive-sms.svg';\r\nimport SVG_receivecall from '../resources/icons/receive-call.svg';\r\nimport SVG_uiaction from '../resources/icons/ui-action.svg';\r\n\r\n// Default app\r\nexport const HomeApp = 'home';\r\n\r\nconst backendPort = new URLSearchParams(window.location.search).get('backendPort') || '7878';\r\nexport const APIBaseUrl = 'http://localhost:' + backendPort + '/recordings/';\r\n\r\nexport const BoundsUnit = 'px';\r\nexport const HighlightTime = 200;\r\n\r\nexport const PlatformName = {\r\n    ANDROID: 'ANDROID',\r\n    IOS: 'IOS'\r\n}\r\n\r\nexport const DeviceType = {\r\n    ANDROID: 'android',\r\n    IOS: 'ios',\r\n    EMULATOR: 'emulator',\r\n    SIMULATOR: 'simulator'\r\n}\r\n\r\nexport const Orientation = {\r\n    PORTRAIT: 'PORTRAIT',\r\n    LANDSCAPE: 'LANDSCAPE'\r\n}\r\n\r\nexport const ActionType = {\r\n    UI: 'uiaction',\r\n    HW: 'hardwareaction'\r\n}\r\n\r\nexport const HWAction = {\r\n    LAUNCH: { id: 'applaunch', icon: SVG_launchapp, label: 'actions.launch' },\r\n    CLOSE: { id: 'appclose', icon: null, label: 'actions.close' },\r\n    REFRESH: { id: 'refresh', icon: SVG_refresh, label: '' },\r\n\r\n    HOME: { id: 'home', icon: SVG_home, label: 'actions.home' },\r\n    BACK: { id: 'back', icon: SVG_back, label: 'actions.back' },\r\n    OVERVIEW: { id: 'overview', icon: SVG_overview, label: 'actions.overview' },\r\n    VOLUMEDOWN: { id: 'volumedown', icon: SVG_volumedown, label: 'actions.volume-down' },\r\n    VOLUMEUP: { id: 'volumeup', icon: SVG_volumeup, label: 'actions.volume-up' },\r\n    VOLUMEMUTE: { id: 'volumemute', icon: SVG_volumemute, label: 'actions.volume-mute' },\r\n    CAMERA: { id: 'cameraon', icon: null, label: 'actions.camera' },\r\n    SCREENLOCK: { id: 'screenlock', icon: SVG_screenlock, label: 'actions.screen-lock' },\r\n    SCREENUNLOCK: { id: 'screenunlock', icon: SVG_screenunlock, label: 'actions.screen-unlock' },\r\n    ROTATEPORTRAIT: { id: 'rotateportrait', icon: SVG_rotateportrait, label: 'actions.rotate-portrait' },\r\n    ROTATELANDSCAPE: { id: 'rotatelandscape', icon: SVG_rotatelandscape, label: 'actions.rotate-landscape' },\r\n    RECEIVESMSNOTIFICATON: { id: 'receivesms', icon: SVG_receivesms, label: 'actions.receive-sms' },\r\n    RECEIVECALL: { id: 'receivecall', icon: SVG_receivecall, label: 'actions.receive-call' }\r\n}\r\n\r\nexport const UIAction = {\r\n    TAP: { id: 'ontap', icon: SVG_uiaction, label: 'actions.tap' },\r\n    LONGTAP: { id: 'onlongtap', icon: SVG_uiaction, label: 'actions.long-tap' },\r\n    SCROLL: { id: 'ondevscroll', icon: SVG_uiaction, label: 'actions.scroll' },\r\n    SWIPE: { id: 'ondevswipe', icon: SVG_uiaction, label: 'actions.swipe' },\r\n    DOUBLETAP: { id: 'ondbltap', icon: SVG_uiaction, label: 'actions.double-tap' },\r\n    INPUT: { id: 'onkeypress', icon: SVG_uiaction, label: 'actions.input' },\r\n    ENTERTEXT: { id: 'onentertext', icon: SVG_uiaction, label: 'actions.enter-text' },\r\n    CLICK: { id: 'onclick', icon: SVG_uiaction, label: 'actions.click' },\r\n    DOUBLECLICK: { id: 'ondblclick', icon: SVG_uiaction, label: 'actions.double-click' },\r\n    HOTKEY: { id: 'onhotkeypress', icon: SVG_uiaction, label: 'actions.hotkey' },\r\n    HOVER: { id: 'onmouseover', icon: SVG_uiaction, label: 'actions.hover' },\r\n    DRAG: { id: 'ondrag', icon: SVG_uiaction, label: 'actions.drag' },\r\n    SETVALUE: { id: 'onsetvalue', icon: SVG_uiaction, label: 'actions.set-value' },\r\n    INPUTKEYS: { id: 'inputKeys', icon: SVG_uiaction, label: 'actions.input-keys' },\r\n    SELECT: { id: 'onselect', icon: SVG_uiaction, label: 'actions.select' },\r\n    TAPTPOINT: { id: 'ontapAt', icon: SVG_uiaction, label: 'actions.tap' }\r\n}\r\n\r\nexport const InputAction = [\r\n    UIAction.INPUT.id,\r\n    UIAction.ENTERTEXT.id\r\n]\r\n\r\nexport const MouseEventType = {\r\n    DOWN: 'mousedown',\r\n    UP: 'mouseup',\r\n    DBLCLICK: 'dblclick',\r\n    LEAVE: 'mouseleave'\r\n}\r\n\r\nexport const Severity = {\r\n    INFO: 'info',\r\n    SUCCESS: 'success',\r\n    WARNING: 'warning',\r\n    ERROR: 'error'\r\n}\r\n\r\nexport const EditClass = [\r\n    'android.widget.EditText',\r\n    'android.widget.AutoCompleteTextView',\r\n    'androidx.appcompat.widget.AppCompatEditText',\r\n    'com.google.android.material.textfield.TextInputEditText',\r\n    'android.widget.MultiAutoCompleteTextView',\r\n    'XCUIElementTypeTextField',\r\n    'XCUIElementTypeSecureTextField',\r\n    'XCUIElementTypeTextView',\r\n    'XCUIElementTypeSearchField'\r\n]\r\n","import { Severity } from \"./Constants\";\r\n\r\nexport function createNotification(title, message, severity, closable) {\r\n  return { title, message, severity, closable };\r\n}\r\n\r\nexport function isNotificationError(notification) {\r\n  return (notification && notification.severity === Severity.ERROR);\r\n}","import i18n from \"i18next\";\r\nimport { initReactI18next } from \"react-i18next\";\r\nimport LngDetector from 'i18next-browser-languagedetector';\r\n\r\nconst langs = ['cs', 'de', 'en', 'es', 'fr', 'hu', 'it', 'ja', 'ko', 'pl', 'pt-br', 'ru', 'tr', 'zh-cn', 'zh-tw'];\r\n\r\nlet resources = {};\r\nlangs.forEach(l => {\r\n  try {\r\n    resources[l] = { 'translation': require('./locales/' + l + '/virtualclient.json') };\r\n  }\r\n  catch(e) {\r\n    console.log('Loading locale: ' + l + ' failed');\r\n  }\r\n})\r\n\r\ni18n\r\n  .use(initReactI18next)\r\n  .use(new LngDetector())\r\n  .init({\r\n    resources,\r\n    fallbackLng: 'en',\r\n    lowerCaseLng: true,\r\n    \r\n    detection: {\r\n      order: ['navigator', 'querystring', 'cookie', 'localStorage', 'htmlTag', 'path', 'subdomain']\r\n    },\r\n    \r\n    keySeparator: '.', // we do not use keys in form messages.welcome\r\n\r\n    interpolation: {\r\n      escapeValue: false // react already safes from xss\r\n    }\r\n  });\r\n\r\nexport default i18n;","import axios from \"axios\";\r\nimport {APIBaseUrl, ActionType, Severity} from './Constants';\r\nimport { createNotification } from \"./NotificationUtils\";\r\nimport i18n from '../i18n';\r\n\r\nexport const postSteps = (sessionId, actiontype, actionName, actionArgs) => {\r\n    const url = APIBaseUrl + sessionId + \"/steps/\";\r\n    return axios.post(url, {\r\n        \"actiontype\": actiontype,\r\n        \"action\": actionName,\r\n        \"actionargs\": actionArgs,\r\n        \"screenshotid\": new Date().getTime()\r\n      });\r\n}\r\n\r\nexport const postHWSteps = (sessionId, actionName, handler, actionArgs) => {\r\n  postSteps(sessionId, ActionType.HW, actionName, actionArgs)\r\n    .then(response => {\r\n      let recordedSteps = (response.data === '') ? null : response.data.recordedsteps;\r\n      handler(actionName, recordedSteps);\r\n    })\r\n    .catch(() => {\r\n      handler(\r\n        actionName,\r\n        null,\r\n        createNotification(actionName, i18n.t('dv.error-action'), Severity.WARNING)\r\n      );\r\n  });\r\n}\r\n\r\nexport const closeSession = (sessionId, actionName, handler) => {\r\n  if (sessionId) {\r\n    const url = APIBaseUrl + sessionId;\r\n    axios.delete(url)\r\n      .then(() => {\r\n        if (handler) handler(actionName);\r\n      })\r\n      .catch();\r\n  }\r\n}\r\n","import {ActionType, UIAction} from '../utils/Constants';\r\nimport {postSteps} from '../utils/APIUtils';\r\n\r\nexport class MouseAction {\r\n    constructor(sessionId) {\r\n      this.sessionId = sessionId;\r\n      this.name = null;\r\n      this.startx = 0;\r\n      this.starty = 0;\r\n      this.endx = 0;\r\n      this.endy = 0;\r\n      this.startTime = 0;\r\n      this.buttonPressed = false;\r\n    }\r\n\r\n    setStartPosition(x, y) {\r\n      this.startx = x;\r\n      this.starty = y;\r\n    }\r\n\r\n    setEndPosition(x, y) {\r\n      this.endx = x;\r\n      this.endy = y;\r\n    }\r\n\r\n    buildActionArgs() {\r\n      var actionargs = {\r\n        x: this.endx,\r\n        y: this.endy\r\n      }\r\n\r\n      if (this.name === UIAction.SCROLL.id) {\r\n        actionargs = {\r\n          \"sx\": this.startx,\r\n          \"sy\": this.starty,\r\n          \"dx\": this.endx,\r\n          \"dy\": this.endy\r\n        }\r\n      }\r\n\r\n      return JSON.stringify(actionargs);\r\n    }\r\n\r\n    perform() {\r\n      return postSteps(this.sessionId, ActionType.UI, this.name, this.buildActionArgs());\r\n    }\r\n}","import { MouseAction } from \"./MouseAction\";\r\nimport { MouseEventType, UIAction } from \"../utils/Constants\";\r\n\r\nconst SwipeHorizontalMinDistance = 10;\r\nconst SwipeVerticalMinDistance = 10;\r\nconst TapMaxDistance = 10;\r\nconst TapMaxTime = 500;\r\nexport const DoubleTapInterval = 300;\r\n\r\nexport class MouseController {\r\n  constructor(sessionId) {\r\n    this.action = new MouseAction(sessionId);\r\n    this.zoomFactor = 1;\r\n  }\r\n\r\n  isSwipe() {\r\n    return (Math.abs(this.action.endx - this.action.startx) > SwipeHorizontalMinDistance * this.zoomFactor\r\n      || Math.abs(this.action.endy - this.action.starty) > SwipeVerticalMinDistance * this.zoomFactor);\r\n  }\r\n\r\n  isTap() {\r\n    return (Math.abs(this.action.endx - this.action.startx) < TapMaxDistance * this.zoomFactor\r\n      && Math.abs(this.action.endy - this.action.starty) < TapMaxDistance) * this.zoomFactor;\r\n  }\r\n\r\n  isLongTap() {\r\n    return (new Date().getTime() - this.action.startTime > TapMaxTime);\r\n  }\r\n\r\n  handleEvent(event, target) {\r\n    if (event.button !== 0) return null;\r\n\r\n    this.action.name = null;\r\n    this.zoomFactor = (target.naturalHeight / target.clientHeight);\r\n    let rect = target.getBoundingClientRect();\r\n\r\n    // Image relative coordinates\r\n    let x = Math.round((event.clientX - rect.left) * this.zoomFactor);\r\n    let y = Math.round((event.clientY - rect.top) * this.zoomFactor);\r\n\r\n    switch(event.type) {\r\n      case MouseEventType.DOWN:\r\n        this.action.setStartPosition(x, y);\r\n        this.action.startTime = new Date().getTime();\r\n        this.action.buttonPressed = true;\r\n        break;\r\n      case MouseEventType.UP:\r\n        if (this.action.buttonPressed) {\r\n          this.action.setEndPosition(x, y);\r\n          if (this.isSwipe()) {\r\n            this.action.name = UIAction.SCROLL.id;\r\n          }\r\n          else {\r\n            if (this.isTap()) {\r\n              this.action.name = (this.isLongTap()) ? UIAction.LONGTAP.id : UIAction.TAP.id;\r\n            }\r\n          }\r\n        }\r\n        this.action.buttonPressed = false;\r\n        break;\r\n      case MouseEventType.LEAVE:\r\n        if (this.action.buttonPressed) {\r\n            this.action.setEndPosition(Math.max(0, Math.min(x, target.naturalWidth - 1)),\r\n              Math.max(0, Math.min(y, target.naturalHeight - 1)));\r\n          if (this.isSwipe()) {\r\n            this.action.name = UIAction.SCROLL.id;\r\n          }            \r\n        }\r\n        this.action.buttonPressed = false;\r\n        break;\r\n      case MouseEventType.DBLCLICK:\r\n        this.action.setEndPosition(x, y);\r\n        this.action.name = UIAction.DOUBLETAP.id;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    if (this.action.name === null) return null;\r\n    \r\n    return this.action;\r\n  }\r\n}\r\n\r\nexport default MouseController;","import React, { Component } from 'react';\r\nimport './DeviceNavigationBar.css';\r\nimport {HWAction, PlatformName} from '../utils/Constants';\r\nimport {postHWSteps} from '../utils/APIUtils';\r\nimport {DoubleTapInterval} from \"../actions/MouseController\";\r\nimport i18n from '../i18n';\r\nimport SVG_Overview from '../resources/icons/overview.svg';\r\nimport SVG_Home from '../resources/icons/home.svg';\r\nimport SVG_Back from '../resources/icons/back.svg';\r\n\r\nclass DeviceNavigationBar extends Component {\r\n\r\n  constructor() {\r\n    super();\r\n    this.homeTimeoutId = null;\r\n    this.isAndroid = null;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.isAndroid = (this.props.platformName === PlatformName.ANDROID);\r\n  }\r\n\r\n  onOverview = () => {\r\n    window.clearTimeout(this.homeTimeoutId);\r\n    this.performAction(HWAction.OVERVIEW);\r\n  };\r\n\r\n  onHome = () => {\r\n    if (this.isAndroid) {\r\n      this.performAction(HWAction.HOME);\r\n    }\r\n    else {\r\n      // on iOS, perform the action only if a double tap is not received\r\n      window.clearTimeout(this.homeTimeoutId);\r\n      this.homeTimeoutId = window.setTimeout(() => {\r\n        this.performAction(HWAction.HOME)\r\n      }, DoubleTapInterval);\r\n    }\r\n  };\r\n\r\n  onBack = () => {\r\n    this.performAction(HWAction.BACK);\r\n  };\r\n\r\n  performAction(action, actionArgs) {\r\n    this.props.onInitAction(action.id);\r\n    postHWSteps(this.props.sessionId, action.id, this.props.onAction, actionArgs);\r\n  }\r\n\r\n  render() {\r\n    let homeDblClickHandler = (this.isAndroid) ? null : this.onOverview;\r\n    return (\r\n      <div className=\"dnb\">\r\n        {this.isAndroid && <img\r\n          src={SVG_Overview} \r\n          alt={i18n.t('dnb.overview')}\r\n          onClick={this.onOverview} />}\r\n        <img\r\n          src={SVG_Home}\r\n          alt={i18n.t('dnb.home')}\r\n          onClick={this.onHome}\r\n          onDoubleClick={homeDblClickHandler} />\r\n        {this.isAndroid && <img\r\n          src={SVG_Back}\r\n          alt={i18n.t('dnb.back')}\r\n          onClick={this.onBack} />}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DeviceNavigationBar;\r\n","import {ActionType, UIAction} from '../utils/Constants';\r\nimport {postSteps} from '../utils/APIUtils';\r\n\r\nexport class KeyboardAction {\r\n    constructor(sessionId) {\r\n      this.sessionId = sessionId;\r\n      this.name = UIAction.ENTERTEXT.id;\r\n      this.value = '';\r\n    }\r\n\r\n    buildActionArgs() {\r\n      var actionargs = {\r\n        value: this.value\r\n      }\r\n\r\n      return JSON.stringify(actionargs);\r\n    }\r\n\r\n    perform() {\r\n      return postSteps(this.sessionId, ActionType.UI, this.name, this.buildActionArgs());\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { EditClass } from '../utils/Constants';\r\nimport { KeyboardAction } from './KeyboardAction';\r\nimport i18n from '../i18n';\r\n\r\nconst keyboardTimer = 500;\r\nconst specialCharDelimiter = '|';\r\nconst SpecialChar = [\r\n  {keyCode: 8, name: '[BACK_SPACE]', ANDROID: true, IOS: true},\r\n  {keyCode: 37, name: '[ARROW_LEFT]', ANDROID: true, IOS: false},\r\n  {keyCode: 38, name: '[ARROW_UP]', ANDROID: true, IOS: false},\r\n  {keyCode: 39, name: '[ARROW_RIGHT]', ANDROID: true, IOS: false},\r\n  {keyCode: 40, name: '[ARROW_DOWN]', ANDROID: true, IOS: false},\r\n  {keyCode: 46, name: '[DELETE]', ANDROID: true, IOS: false}\r\n]\r\n\r\nclass KeyboardController extends Component {\r\n\r\n  constructor() {\r\n      super();\r\n      this.state = { \r\n        textContent: ''\r\n      }\r\n      this.action = null;\r\n      this.keyboardListener = null;\r\n      this.keyboardTimeout = null;\r\n      this.specialChars = '';\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.action = new KeyboardAction(this.props.sessionId);\r\n\r\n    document.addEventListener('keydown', (e) => {\r\n      if (!(e.target instanceof HTMLInputElement)\r\n        && !(e.target instanceof HTMLTextAreaElement)) {\r\n          if (EditClass.includes(this.props.activeElementClass)) {\r\n            this.keyboardListener.focus();\r\n          }\r\n      }\r\n    });\r\n  }\r\n\r\n  setSpecialChars(e) {\r\n    try {\r\n      const specialChar = SpecialChar.filter(c => c.keyCode === e.keyCode && c[this.props.platformName])[0];\r\n      this.specialChars += (this.specialChars && specialCharDelimiter) + specialChar.name;\r\n    }\r\n    catch {\r\n      console.log(i18n.t('dv.error-key'));\r\n    }\r\n  }\r\n\r\n  onKeyUp = (e) => {\r\n    if (!this.state.textContent) {\r\n      this.setSpecialChars(e);\r\n    }\r\n    \r\n    window.clearTimeout(this.keyboardTimeout);\r\n    this.keyboardTimeout = window.setTimeout(() => {\r\n      const text = this.state.textContent\r\n        || (this.specialChars && specialCharDelimiter + this.specialChars + specialCharDelimiter);\r\n      if (text) {\r\n        this.action.value = text;\r\n        this.props.performAction(this.action);\r\n        this.setState({ textContent: '' });\r\n        this.specialChars = '';\r\n      }\r\n    }, keyboardTimer);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <textarea\r\n          ref={el => this.keyboardListener = el}\r\n          value={this.state.textContent}\r\n          placeholder=\"-\"\r\n          onKeyUp={e => { this.onKeyUp(e); }}\r\n          onChange={e => this.setState({ textContent: e.target.value })}\r\n        />\r\n    );\r\n  }\r\n}\r\n\r\nexport default KeyboardController;\r\n","import React, { Component } from 'react';\r\nimport './DeviceViewer.css';\r\nimport axios from \"axios\";\r\nimport {MouseController, DoubleTapInterval} from \"../actions/MouseController\";\r\nimport {APIBaseUrl, BoundsUnit, Orientation, UIAction, HighlightTime, Severity} from '../utils/Constants';\r\nimport DeviceNavigationBar from './DeviceNavigationBar';\r\nimport _ from 'lodash';\r\nimport { createNotification } from '../utils/NotificationUtils';\r\nimport KeyboardController from '../actions/KeyboardController';\r\nimport i18n from '../i18n';\r\nimport SVG_Blank from '../resources/images/blank.png';\r\n\r\nclass DeviceViewer extends Component {\r\n\r\n  constructor() {\r\n    super();\r\n    this.state = { \r\n      mobileScreenshot: {},\r\n      snapshotData: null,\r\n      snapshotError: false\r\n    }\r\n    this.viewer = null;\r\n    this.mouseController = null;\r\n    this.selectedControlBounds = null;\r\n    this.activeElementClass = null;\r\n    this.mouseEventTimeouts = [];\r\n    this.performAction = this.performAction.bind(this);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.sessionId !== prevProps.sessionId) {\r\n      this.mouseController = new MouseController(this.props.sessionId);\r\n      this.getMobileScreenshot(true);\r\n    }\r\n    if (this.props.actionProcessed !== prevProps.actionProcessed) {\r\n      this.getMobileScreenshot(this.props.refreshScreenshot !== prevProps.refreshScreenshot);\r\n    }\r\n    if (this.props.actionProcessing !== prevProps.actionProcessing\r\n      || this.props.actionProcessed !== prevProps.actionProcessed) {\r\n      this.selectedControlBounds = null;\r\n    }\r\n  }\r\n\r\n  getMobileScreenshot(refresh) {\r\n    if (!this.props.sessionId) return;\r\n    \r\n    const headers = (refresh) ? { headers: { 'If-Modified-Since': new Date().getTime() } } : null;\r\n    const url = APIBaseUrl + this.props.sessionId + \"/screenshot/\" \r\n    axios.get(url, headers).then(response => {\r\n      if (response.data.screenshot) {\r\n        window.setTimeout(() => this.setState({ \r\n          snapshotData: 'data:image/png;base64, ' + response.data.screenshot,\r\n          snapshotError: false\r\n        }, () => this.props.onIncomingScreenshot(response.data.orientation)), HighlightTime);\r\n      }\r\n    })\r\n    .catch(error => {\r\n      let severity = Severity.ERROR;\r\n      let message = i18n.t('dv.timeout');\r\n\r\n      let r = error.response;\r\n      if (r && r.data && r.data.status) {\r\n        severity = Severity.WARNING;\r\n        const errorId = 'dv.error-' + r.data.status;\r\n        message = i18n.t(errorId);\r\n        if (message === errorId) {\r\n          // Unknown status\r\n          message = r.data.message;\r\n        }\r\n      }\r\n\r\n      this.setState({\r\n        snapshotError: true,\r\n        snapshotData: this.state.snapshotData || '' } // In case there is no previous screenshot\r\n      );\r\n      this.props.onNotification(createNotification('', message, severity));\r\n    });\r\n  }\r\n\r\n  performAction(action) {\r\n    let actionName = action.name;\r\n    this.props.onInitAction(actionName);\r\n    this.selectedControlBounds = null;\r\n    action.perform()\r\n      .then(response => {\r\n        this.activeElementClass = response.data.class;\r\n        this.selectedControlBounds = response.data.coordinates;\r\n        let recordedSteps = (response.data === '') ? null : response.data.recordedsteps;\r\n        this.props.onAction(actionName, recordedSteps);\r\n      })\r\n      .catch(() => {\r\n        this.props.onAction(\r\n          actionName,\r\n          null,\r\n          createNotification(actionName, i18n.t('dv.error-action'), Severity.WARNING)\r\n        );\r\n      });\r\n  }\r\n\r\n  onMouseEvent(event) {\r\n    let action = this.mouseController.handleEvent(event, this.viewer);\r\n    if (action !== null) {\r\n      if (action.name === UIAction.DOUBLETAP.id) {\r\n        this.mouseEventTimeouts.forEach(t => { window.clearTimeout(t) })\r\n      }\r\n      if (action.name === UIAction.TAP.id) {\r\n        let tap = _.cloneDeep(action);\r\n        this.mouseEventTimeouts.push(window.setTimeout(() => this.performAction(tap), DoubleTapInterval));\r\n      }\r\n      else {\r\n        this.performAction(action);\r\n      }\r\n    }\r\n  }\r\n\r\n  getSelectedControlBounds() {\r\n    if (!this.viewer || !this.selectedControlBounds) return {};\r\n    \r\n    let zoomFactor = (this.viewer.naturalHeight / this.viewer.clientHeight);\r\n    let bounds = {};\r\n    this.selectedControlBounds.split(';').filter(b => b !== '').forEach(b => {\r\n      let bound = b.split(':');\r\n      bounds[bound[0]] = parseInt(bound[1]) / zoomFactor;\r\n    });\r\n\r\n    bounds.width = (bounds.right - bounds.left) + BoundsUnit;\r\n    bounds.height = (bounds.bottom - bounds.top) + BoundsUnit;\r\n    bounds.left = bounds.left + BoundsUnit;\r\n    bounds.top = bounds.top + BoundsUnit;\r\n    delete bounds.right;\r\n    delete bounds.bottom;\r\n\r\n    return bounds;\r\n  }\r\n\r\n  render() {\r\n    \r\n    if(this.state.snapshotData === null) {\r\n      return (\r\n        <>\r\n          <div className=\"dv-pb-text\">{i18n.t('dv.initializing')}</div>\r\n          <div className=\"dv-pb-container\">\r\n            <div className=\"dv-pb-content\" />\r\n          </div>\r\n        </>\r\n      );\r\n    }\r\n    \r\n    const snapshotData = this.state.snapshotData || SVG_Blank;\r\n    let processingClass = (this.props.actionProcessing) ? ' dv-processing' : '';\r\n    let selectedControlVisible = (!this.mouseController.isSwipe());\r\n    let orientationClass = (this.props.orientation === Orientation.LANDSCAPE) ? ' dv-landscape' : ' dv-portrait';\r\n    let visibleClass = (this.props.visibility) ? '' : ' dv-hidden';\r\n    let disableClass = (this.state.snapshotError) ? ' dv-disabled' : '';\r\n    return (\r\n      <div className=\"dv\">\r\n        <div className={'dv-content' + orientationClass + processingClass + visibleClass + disableClass}> \r\n          <img\r\n            ref={el => this.viewer = el}\r\n            alt={i18n.t('dv.title')}\r\n            src={snapshotData}\r\n            draggable=\"false\"\r\n            onMouseDown = {e => { this.onMouseEvent(e); }}\r\n            onMouseUp = {e => { this.onMouseEvent(e); }}\r\n            onMouseLeave = {e => { this.onMouseEvent(e); }}\r\n            onDoubleClick = {e => { this.onMouseEvent(e); }}\r\n          />\r\n\r\n          {selectedControlVisible && (\r\n            <div className=\"dv-selected-control\" style={this.getSelectedControlBounds()} />\r\n          )}\r\n        </div>\r\n\r\n        <DeviceNavigationBar\r\n          sessionId={this.props.sessionId}\r\n          platformName = {this.props.platformName}\r\n          onInitAction={this.props.onInitAction}\r\n          onAction={this.props.onAction}\r\n        />\r\n\r\n        <KeyboardController\r\n          sessionId={this.props.sessionId}\r\n          platformName = {this.props.platformName}\r\n          activeElementClass={this.activeElementClass}\r\n          performAction={this.performAction}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n \r\nexport default DeviceViewer;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAICAIAAAC+k6JsAAAACXBIWXMAAAsSAAALEgHS3X78AAAADElEQVR42mNgGFgAAACAAAHK7zm1AAAAAElFTkSuQmCC\"","import React, { Component } from 'react';\r\nimport './Dialer.css';\r\nimport {OverlayPanel} from 'primereact/overlaypanel';\r\nimport {InputText} from 'primereact/inputtext';\r\nimport {InputTextarea} from 'primereact/inputtextarea';\r\nimport {Button} from 'primereact/button';\r\nimport i18n from '../i18n';\r\n\r\nclass Dialer extends Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            phoneNumber: '',\r\n            message: ''\r\n        }\r\n        this.op = null;\r\n    }\r\n    \r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.toggle !== this.props.toggle) {\r\n            this.op.toggle(this.props.toggle.event);\r\n        }\r\n    }\r\n\r\n    dial = () => {\r\n        this.props.onDial(this.props.toggle.isSMS, this.state.phoneNumber, this.state.message);\r\n        this.op.hide();\r\n    }\r\n\r\n    onHide = () => {\r\n        this.setState({ message: '' });\r\n    }\r\n\r\n    canDial() {\r\n        return (this.state.phoneNumber !== '')\r\n            && ((this.props.toggle.isSMS) ? this.state.message !== '' : true);\r\n    }\r\n\r\n    getTarget() {\r\n        let target = this.props.toggle.event.target;\r\n        return (target.className !== 'tb-button') ? target.parentElement : target;\r\n    }\r\n\r\n    render() {\r\n        const btnLabel = (this.props.toggle.isSMS) ? i18n.t('dialer.receive') : i18n.t('dialer.call');\r\n        return (\r\n            <>\r\n            {this.props.toggle.event && (\r\n                <OverlayPanel className=\"dialer\" ref={el => this.op = el} onHide={this.onHide} appendTo={this.getTarget()}>\r\n                    <div>\r\n                        <div className=\"dialer-field\">\r\n                            <label className=\"required\" for=\"from\">{i18n.t('dialer.from')}</label>\r\n                            <InputText\r\n                                id=\"from\"\r\n                                keyfilter={new RegExp(/[\\d\\-.+]/)}\r\n                                value={this.state.phoneNumber}\r\n                                onChange={e => this.setState({ phoneNumber: e.target.value })}\r\n                            />\r\n                        </div>\r\n                        {this.props.toggle.isSMS && (<div className=\"dialer-field\">\r\n                            <label className=\"required\" for=\"message\">{i18n.t('dialer.message')}</label>\r\n                            <InputTextarea\r\n                                id=\"message\"\r\n                                rows={4}\r\n                                value={this.state.message}\r\n                                onChange={e => this.setState({ message: e.target.value })}\r\n                            />\r\n                        </div>)}\r\n                    </div>\r\n                    <div className=\"dialer-button-bar\">\r\n                        <Button\r\n                            label={btnLabel}\r\n                            onClick={this.dial}\r\n                            disabled={!this.canDial()}\r\n                        />\r\n                    </div>\r\n                </OverlayPanel>\r\n            )}\r\n            </>\r\n        );\r\n      }\r\n}\r\n\r\nexport default Dialer;\r\n","export default __webpack_public_path__ + \"static/media/stop.5b4705a5.svg\";","export default __webpack_public_path__ + \"static/media/stop-disabled.0cba322b.svg\";","import React, { Component } from 'react';\r\nimport './DeviceToolBar.css';\r\nimport {HWAction, Orientation, PlatformName} from '../utils/Constants';\r\nimport {postHWSteps} from '../utils/APIUtils';\r\nimport Dialer from '../utils/Dialer';\r\nimport i18n from '../i18n';\r\nimport SVG_Stop from '../resources/icons/stop.svg';\r\nimport SVG_Stop_Disabled from '../resources/icons/stop-disabled.svg';\r\nimport SVG_Lock from '../resources/icons/screen-lock.svg';\r\nimport SVG_Unlock from '../resources/icons/screen-unlock.svg';\r\nimport SVG_Refresh from '../resources/icons/refresh.svg';\r\nimport SVG_Portrait from '../resources/icons/rotate-portrait.svg';\r\nimport SVG_Landscape from '../resources/icons/rotate-landscape.svg';\r\nimport SVG_Volume_Up from '../resources/icons/volume-up.svg';\r\nimport SVG_Volume_Down from '../resources/icons/volume-down.svg';\r\nimport SVG_Volume_Mute from '../resources/icons/volume-mute.svg';\r\nimport SVG_Sms from '../resources/icons/receive-sms.svg';\r\nimport SVG_Call from '../resources/icons/receive-call.svg';\r\n\r\nexport class DeviceToolBar extends Component {\r\n  constructor() {\r\n      super();\r\n      this.state = {\r\n        screenLocked: false,\r\n        dialerToggle: { event: null, isSMS: false }\r\n      };\r\n  }\r\n\r\n  onCloseSession = () => {\r\n    this.props.onInitAction(HWAction.CLOSE.id);\r\n    this.performAction(HWAction.CLOSE);\r\n    window.removeEventListener('unload', this.props.closeListener, false);\r\n    window.close();\r\n  };\r\n\r\n  onRefreshScreenshot = () => {\r\n    let actionName = HWAction.REFRESH.id;\r\n    this.props.onInitAction(actionName);\r\n    this.props.onAction(actionName);\r\n  };\r\n\r\n  toggleRotate = () => {\r\n    this.performAction((this.props.orientation === Orientation.PORTRAIT)\r\n      ? HWAction.ROTATELANDSCAPE\r\n      : HWAction.ROTATEPORTRAIT);\r\n  };\r\n\r\n  toggleScreenLock = () => {\r\n    this.performAction((this.state.screenLocked)\r\n      ? HWAction.SCREENUNLOCK\r\n      : HWAction.SCREENLOCK);\r\n    window.setTimeout(() => this.setState({\r\n      screenLocked: !this.state.screenLocked }), 2000); // TODO\r\n  };\r\n\r\n  onVolumeUp = () => {\r\n    this.performAction(HWAction.VOLUMEUP);\r\n  };\r\n  \r\n  onVolumeDown = () => {\r\n    this.performAction(HWAction.VOLUMEDOWN);\r\n  };\r\n\r\n  onVolumeMute = () => {\r\n    this.performAction(HWAction.VOLUMEMUTE);\r\n  };\r\n\r\n  onSendMessage = (e) => {\r\n    e.persist();\r\n    this.setState({ dialerToggle: { event: e, isSMS: true } });\r\n  };\r\n\r\n  onMakeCall = (e) => {\r\n    e.persist();\r\n    this.setState({ dialerToggle: { event: e, isSMS: false } });\r\n  };\r\n\r\n  performAction(action, actionArgs) {\r\n    this.props.onInitAction(action.id);\r\n    postHWSteps(this.props.sessionId, action.id, this.props.onAction, actionArgs);\r\n  }\r\n\r\n  onDialPerformed = (isSMS, phoneNumber, message) => {\r\n    if (isSMS) {\r\n      this.performAction(HWAction.RECEIVESMSNOTIFICATON, JSON.stringify({ phoneNumber, message }));\r\n    }\r\n    else {\r\n      this.performAction(HWAction.RECEIVECALL, JSON.stringify({ phoneNumber }));\r\n    }\r\n  }\r\n\r\n  renderButton(icon, handler, tooltip, disabled) {\r\n    let btnClassName = 'tb-button';\r\n    if (disabled) {\r\n      btnClassName += ' tb-button-disabled';\r\n      tooltip = i18n.t('dtb.no-support');\r\n    }\r\n    return (\r\n      <span className={btnClassName} onClick={handler} title={tooltip}>\r\n        <img src={icon} alt={tooltip} />\r\n      </span>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    let isAndroid = (this.props.platformName === PlatformName.ANDROID);\r\n    let isIOSSimulator = (!isAndroid && this.props.deviceName.startsWith('Simulator'));\r\n    let disabledClass = (this.props.sessionId === null) ? ' tb-disabled' : '';\r\n    let platformClass = (isAndroid) ? '' : ' tb-content-ios';\r\n    let stopIcon = (this.props.sessionId !== null) ? SVG_Stop : SVG_Stop_Disabled;\r\n    let rotateIcon = (this.props.orientation === Orientation.PORTRAIT) ? SVG_Landscape : SVG_Portrait;\r\n    let lockIcon = (this.state.screenLocked) ? SVG_Unlock : SVG_Lock;\r\n    return (\r\n      <div className={'tb' + disabledClass}> \r\n        <div className={'tb-content' + disabledClass + platformClass}>\r\n          {this.renderButton(stopIcon, this.onCloseSession, i18n.t('dtb.stop'))}\r\n          <div className=\"tb-separator\" />\r\n          {this.renderButton(lockIcon, this.toggleScreenLock, i18n.t('dtb.lock'))}\r\n          {this.renderButton(SVG_Refresh, this.onRefreshScreenshot, i18n.t('dtb.refresh'))}\r\n          {this.renderButton(rotateIcon, this.toggleRotate, i18n.t('dtb.rotate'))}\r\n          <div className=\"tb-separator\" />\r\n          {this.renderButton(SVG_Volume_Up, this.onVolumeUp, i18n.t('dtb.volume-up'), isIOSSimulator)}\r\n          {this.renderButton(SVG_Volume_Down, this.onVolumeDown, i18n.t('dtb.volume-down'), isIOSSimulator)}\r\n          {isAndroid && (\r\n            <>\r\n              {this.renderButton(SVG_Volume_Mute, this.onVolumeMute, i18n.t('dtb.volume-mute'))}\r\n              <div className=\"tb-separator\" />\r\n              {this.renderButton(SVG_Sms, this.onSendMessage, i18n.t('dtb.message'))}\r\n            {this.renderButton(SVG_Call, this.onMakeCall, i18n.t('dtb.call'))}\r\n            </>\r\n          )}\r\n          <div className=\"tb-separator\" />\r\n        </div>\r\n        \r\n        <Dialer\r\n          toggle={this.state.dialerToggle}\r\n          onDial={this.onDialPerformed}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DeviceToolBar;","import React, { Component } from 'react';\r\nimport './Resizer.css';\r\n\r\nconst MouseMove = 'mousemove';\r\nconst MouseUp = 'mouseup';\r\nconst MinViewerWidth = 700;\r\n\r\nclass Resizer extends Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n        }\r\n        this.startResize = this.startResize.bind(this);\r\n        this.resize = this.resize.bind(this);\r\n        this.stopResize = this.stopResize.bind(this);\r\n      }\r\n\r\n    startResize() {\r\n        if (this.props.target === null) return;\r\n        \r\n        document.body.style['user-select'] = 'none';\r\n        window.addEventListener(MouseMove, this.resize, false);\r\n        window.addEventListener(MouseUp, this.stopResize, false);\r\n    }\r\n    \r\n    resize(e) {\t\r\n        if (e.buttons !== 1) this.stopResize();\r\n        var w = window.document.documentElement.clientWidth - e.clientX;\r\n        if (MinViewerWidth + w < window.document.documentElement.clientWidth) {\r\n            this.props.target.style.width = w + 'px';\r\n        }\r\n    }\r\n    \r\n    stopResize() {\r\n        document.body.style['user-select'] = '';\r\n        window.removeEventListener(MouseMove, this.resize, false);\r\n        window.removeEventListener(MouseUp, this.stopResize, false);\r\n    }\t\r\n    \r\n    autoSize() {\r\n        this.props.target.style.width = 'min-content';\r\n        this.props.target.style.width = this.props.target.clientWidth + 'px';\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"resizer-container\"\r\n                onMouseDown = {e => { this.startResize(); }}\r\n                onDoubleClick = {e => { this.autoSize(); }} >\r\n                <div className=\"resizer-content\" />\r\n            </div>\r\n        );\r\n      }\r\n}\r\n\r\nexport default Resizer;\r\n","export default __webpack_public_path__ + \"static/media/processing.8b8794cf.svg\";","export default __webpack_public_path__ + \"static/media/chevron-left.7aabe7e3.svg\";","export default __webpack_public_path__ + \"static/media/chevron-right.715f0456.svg\";","import React, { Component } from 'react';\r\nimport './DeviceTestSteps.css';\r\nimport Resizer from '../utils/Resizer';\r\nimport {HWAction, UIAction, InputAction} from '../utils/Constants';\r\nimport SVG_processing from '../resources/icons/processing.svg';\r\nimport SVG_uiaction from '../resources/icons/ui-action.svg';\r\nimport i18n from '../i18n';\r\nimport SVG_Left from '../resources/icons/chevron-left.svg';\r\nimport SVG_Right from '../resources/icons/chevron-right.svg';\r\n\r\nclass DeviceTestSteps extends Component {\r\n\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      steps: [],\r\n      minimized: false\r\n    }\r\n    this.stepsContainer = null;\r\n    this.stepsContent = null;\r\n    this.actionNames = {};\r\n  }\r\n\r\n  componentDidMount() {\r\n    // Build a map event/label to speed up label generation\r\n    const actions = {...HWAction, ...UIAction};\r\n    for (const a in actions) {\r\n      this.actionNames[actions[a].id] = actions[a].label;\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.recordedSteps && (prevProps.recordedSteps !== this.props.recordedSteps)) {\r\n      let steps = (this.isTextInputRunning()) \r\n        ? this.state.steps.slice(0, this.state.steps.length - 1)\r\n        : this.state.steps;\r\n      this.setState({ steps: [...steps, ...this.props.recordedSteps]});\r\n    }\r\n    this.scrollToBottom();\r\n  }\r\n\r\n  isTextInputRunning() {\r\n    let sSteps = this.state.steps;\r\n    let pSteps = this.props.recordedSteps;\r\n    return sSteps.length > 0 && InputAction.includes(sSteps[sSteps.length - 1].actiontype)\r\n      && pSteps.length > 0 && InputAction.includes(pSteps[pSteps.length - 1].actiontype);\r\n  }\r\n  \r\n  scrollToBottom() {\r\n    if (this.stepsContent !== null) {\r\n      this.stepsContent.scrollTop = this.stepsContent.scrollHeight;\r\n    }\r\n  }\r\n\r\n  toggleMinimized = () => {\r\n    this.setState({ minimized: !this.state.minimized });\r\n    this.props.onMinimize(!this.state.minimized);\r\n  };\r\n\r\n  addStep(svgName, label) {\r\n    let processingClass = (svgName === SVG_processing) ? ' dts-processing' : '';\r\n    return (\r\n      <div className={'dts-step' + processingClass} title={label}>\r\n        <span className=\"dts-step-icon\"><img src={svgName} alt={svgName} /></span>\r\n        {!this.state.minimized && <span className=\"dts-step-label\">{label}</span>}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  getSvgActionIcon(type) {\r\n    for (var key in HWAction) {\r\n      if (HWAction[key].id === type) {\r\n        let icon = HWAction[key].icon;\r\n        if (icon !== null) return icon;\r\n      }\r\n    }\r\n    return SVG_uiaction; // Default\r\n  }\r\n\r\n  getStepsLabel(step) {\r\n    let label = this.actionNames[step.actiontype];\r\n    const details = (step.controlDetails) ? JSON.parse(step.controlDetails): {};\r\n    \r\n    // convert role to control name\r\n    details.control = i18n.t('controls.' + details.role);\r\n\r\n    return i18n.t(label, details) || step.actiontype;\r\n  }\r\n\r\n  render() {\r\n    let minimizedClass = (this.state.minimized) ? ' dts-minimized' : '';\r\n    let headerIcon = (this.state.minimized) ? SVG_Left : SVG_Right;\r\n    return (\r\n      <div className=\"dts\">\r\n        <div className={'dts-container' + minimizedClass} ref={el => this.stepsContainer = el}>\r\n          <div className=\"dts-header\">\r\n            {!this.state.minimized && <span>{i18n.t('dts.title')}</span>}\r\n            <img src={headerIcon} alt=\"\" onClick={this.toggleMinimized}/>\r\n          </div>\r\n          \r\n          <div className=\"dts-content\">\r\n            {!this.state.minimized && <Resizer target={this.stepsContainer} />}\r\n            <div className={'dts-steps' + minimizedClass} ref={el => this.stepsContent = el}>\r\n\r\n              {this.props.sessionId && (\r\n                <>\r\n                  {this.state.steps.map((step, index) => {\r\n                    const stepLabel = this.getStepsLabel(step);\r\n                    return stepLabel && <div key={index}>\r\n                      {index !== 0 && <div className=\"dts-separator\" />}\r\n                      {this.addStep(this.getSvgActionIcon(step.actiontype), stepLabel)}\r\n                    </div>\r\n                  })}\r\n                </>\r\n              )}\r\n\r\n              {this.props.actionProcessing && (\r\n                <span>\r\n                  {this.props.sessionId && (\r\n                    <div className=\"dts-separator\" />\r\n                  )}\r\n                  {this.addStep(SVG_processing, i18n.t('dts.processing'))}\r\n                </span>\r\n              )}\r\n\r\n              <div className=\"dts-steps-footer\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DeviceTestSteps;\r\n","export default __webpack_public_path__ + \"static/media/info.9d233e33.svg\";","export default __webpack_public_path__ + \"static/media/success.23ca2d62.svg\";","export default __webpack_public_path__ + \"static/media/warning.48b232f8.svg\";","export default __webpack_public_path__ + \"static/media/error.95d58460.svg\";","export default __webpack_public_path__ + \"static/media/close.d978f3d0.svg\";","import React, { Component } from 'react';\r\nimport {Severity} from './Constants';\r\nimport './Notifier.css';\r\nimport { isNotificationError } from './NotificationUtils';\r\nimport SVG_info from '../resources/icons/notifier/info.svg';\r\nimport SVG_success from '../resources/icons/notifier/success.svg';\r\nimport SVG_warning from '../resources/icons/notifier/warning.svg';\r\nimport SVG_error from '../resources/icons/notifier/error.svg';\r\nimport SVG_close from '../resources/icons/notifier/close.svg';\r\nimport i18n from '../i18n';\r\n\r\nclass Notifier extends Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = { \r\n          hidden: true\r\n        }\r\n        this.notification = {};\r\n      }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.notification !== this.props.notification) {\r\n            let hidden = (!this.props.notification.title && !this.props.notification.message);\r\n            this.setState({ hidden });\r\n            if (!hidden) this.notification = this.props.notification;\r\n        }\r\n    }\r\n    \r\n    onClose = () => {\r\n        this.props.onClose({});\r\n    };\r\n\r\n    getSvgIcon(severity) {\r\n        let svgIcon = SVG_info;\r\n        switch(severity) {\r\n            case Severity.INFO:\r\n                break;\r\n            case Severity.SUCCESS:\r\n                svgIcon = SVG_success;\r\n                break;   \r\n            case Severity.WARNING:\r\n                svgIcon = SVG_warning;\r\n                break;\r\n            case Severity.ERROR:\r\n                svgIcon = SVG_error;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        return svgIcon;\r\n    }\r\n\r\n    render() {\r\n        const closable = (this.notification.closable === undefined ||  this.notification.closable);\r\n        let hiddenClass = (this.state.hidden) ? ' notifier-hidden' : '';\r\n        let severityClass = this.notification.severity || Severity.INFO;\r\n        return (\r\n            <>\r\n                { (\r\n                    <div className={'notifier ' + severityClass + hiddenClass}>\r\n                        <img src={this.getSvgIcon(this.notification.severity)} alt=\"\" />\r\n                        {this.notification.title && (\r\n                            <span className=\"notifier-title\">{this.notification.title}:</span>\r\n                        )}\r\n                        {this.notification.message && (\r\n                            <span className=\"notifier-message\">{this.notification.message}</span>\r\n                        )}\r\n                        {closable && !isNotificationError(this.notification) && (\r\n                            <div className=\"notifier-close\">\r\n                                <img src={SVG_close} alt={i18n.t('notifier.close')} onClick={this.onClose}/>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                )}\r\n            </>\r\n        );\r\n      }\r\n}\r\n\r\nexport default Notifier;\r\n","export default __webpack_public_path__ + \"static/media/feedback.8b65634f.svg\";","import React, { Component } from 'react';\r\nimport './Feedback.css';\r\nimport { VENDOR } from '../vendor/vars';\r\nimport i18n from '../i18n';\r\nimport SVG_Feedback from '../resources/icons/feedback.svg';\r\n\r\nclass Feedback extends Component {\r\n    render() {\r\n        let feedBackUrl = (VENDOR === 'IBM')\r\n         ? 'mailto:devops24@us.ibm.com'\r\n         : 'https://onetest-ideas.hcltechsw.com/?category=6820342368443829403';\r\n        return (\r\n            <a\r\n              className=\"feedback\" \r\n              href={feedBackUrl}\r\n              rel=\"noopener noreferrer\"\r\n              target=\"_blank\">\r\n                {i18n.t('feedback.title')}\r\n                <img src={SVG_Feedback} alt=\"\" />\r\n            </a>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Feedback;\r\n","import React, { Component } from 'react';\r\nimport axios from \"axios\";\r\nimport {HomeApp, APIBaseUrl, HWAction, Orientation, Severity, PlatformName, DeviceType} from './utils/Constants';\r\nimport './VirtualClient.css';\r\nimport DeviceViewer from './components/DeviceViewer';\r\nimport {DeviceToolBar} from './components/DeviceToolBar';\r\nimport DeviceTestSteps from './components/DeviceTestSteps';\r\nimport Notifier from './utils/Notifier';\r\nimport { createNotification, isNotificationError } from './utils/NotificationUtils';\r\nimport { closeSession } from './utils/APIUtils';\r\nimport Feedback from './utils/Feedback';\r\nimport i18n from './i18n';\r\n\r\nclass VirtualClient extends Component {\r\n  \r\n  constructor() {\r\n    super();\r\n    this.state = { \r\n      sessionId: null,\r\n      initialised: false,\r\n      notification: {},\r\n      recordedSteps: null,\r\n      actionProcessing: false,\r\n      actionProcessed: false,\r\n      sessionClosed: false,\r\n      refreshScreenshot: false,\r\n      orientation: Orientation.PORTRAIT,\r\n      viewerVisibility: true\r\n    }\r\n    this.appPackage = null;\r\n    this.appActivity = null;\r\n    this.iOSBundleId=null;\r\n    this.orgId=null;\r\n    this.deviceName = '';\r\n    this.deviceId = null;\r\n    this.closeListener = null;\r\n    this.statusIntervalId = null;\r\n    this.platformName = null;\r\n    this.platformVersion = null;\r\n    this.screenlockTimeoutId = null;\r\n    this.appiumTimeoutId = null;\r\n    this.appiumIntervalId = null;\r\n    this.appiumUrl = null;\r\n  }\r\n\r\n  componentDidMount() {\r\n    let success = false;\r\n    const params = new URLSearchParams(window.location.search);\r\n    const appUid = params.get(\"appUid\");\r\n    this.appPackage = params.get(\"appPackage\") || HomeApp;\r\n    this.appActivity = params.get(\"appActivity\") || HomeApp;\r\n    this.iOSBundleId = params.get(\"iOSBundleId\") || HomeApp;\r\n    this.orgId = params.get(\"orgId\")\r\n    this.deviceName = params.get(\"deviceName\");\r\n    this.deviceId = params.get(\"deviceId\");\r\n    this.platformName = params.get(\"platformName\");\r\n    this.platformVersion = params.get(\"platformVersion\");\r\n    this.appiumUrl = params.get(\"appiumUrl\");\r\n    const sessionId = params.get(\"sessionId\");\r\n    if (appUid !== null && sessionId !== null) {\r\n      this.setState({ actionProcessing: true });\r\n      axios.post(APIBaseUrl, {\r\n        \"sessionid\": sessionId,\r\n        \"type\": \"Android\",\r\n        \"VERSION\": this.platformVersion,\r\n        \"deviceName\": this.deviceName,\r\n        \"deviceId\": this.deviceId,\r\n        \"platformName\": this.platformName,\r\n        \"appPackage\": this.appPackage,\r\n        \"appActivity\": this.appActivity,\r\n        \"iOSBundleId\": this.iOSBundleId,\r\n        \"orgId\": this.orgId,\r\n        \"appiumURL\" : this.appiumUrl,\r\n        \"appconfigurationid\" : appUid\r\n      }).then(response => {\r\n        let d = response.data;\r\n        console.log(i18n.t('vc.launch', { \r\n          appname: (this.platformName === PlatformName.ANDROID) ? this.appPackage : this.iOSBundleId,\r\n          device: d.devicename\r\n        }));\r\n        success = true;\r\n        this.setState({\r\n          sessionId: d.sessionid,\r\n          recordedSteps: d.recordedsteps,\r\n          actionProcessing: false,\r\n          notification: createNotification('', i18n.t('vc.info-launch'), Severity.INFO)\r\n        });\r\n      }).catch(error => {\r\n        this.getDeviceDisplayName(this.deviceName);\r\n        let r = error.response;\r\n        if (r && r.status === 409 && r.data) {\r\n          success = true;\r\n          this.restoreSession(sessionId, r.data);\r\n        }\r\n        else {\r\n          let name = (this.platformName === PlatformName.ANDROID) ? this.appPackage : this.iOSBundleId;\r\n          this.setState({ \r\n            notification: createNotification('', i18n.t('vc.error-launch', { name }), Severity.ERROR)\r\n          });\r\n        }\r\n        this.setState({ actionProcessing: false });\r\n      }).finally(() => {\r\n        if (success) this.resetAppiumTimeout();\r\n      });\r\n\r\n      this.handleCloseEvent(sessionId);\r\n    }\r\n    else {\r\n      this.setState({\r\n        notification: createNotification('', i18n.t('vc.error-params'), Severity.ERROR)\r\n      });\r\n    }\r\n  }\r\n\r\n  restoreSession(sessionId, data) {\r\n    this.setState({\r\n      sessionId: sessionId,\r\n      notification: createNotification('', i18n.t('vc.restore'), Severity.INFO),\r\n      recordedSteps: data.recordedsteps\r\n    });\r\n  }\r\n\r\n  handleCloseEvent(sessionId) {\r\n    this.closeListener = () => { closeSession(sessionId, HWAction.CLOSE.id) };\r\n    window.addEventListener('unload', this.closeListener, false);\r\n    window.addEventListener('focus', () => { window.clearTimeout(this.statusIntervalId) }, false);\r\n    \r\n    window.addEventListener('blur', () => {\r\n      this.statusIntervalId = window.setInterval(() => {\r\n        const url = APIBaseUrl + sessionId;\r\n        axios.get(url).then(response => {\r\n          if ((this.state.initialised || isNotificationError(this.state.notification))\r\n            && response.data.status !== 'running') {\r\n              window.close();\r\n          }\r\n        })\r\n        .catch(() => {});\r\n      }, 3000);\r\n    }, false);\r\n  }\r\n\r\n  resetAppiumTimeout() {\r\n    const appiumTimeout = 1800; // 30 minutes\r\n    const appiumCountdown = 300; // 5 minutes\r\n\r\n    window.clearTimeout(this.appiumTimeoutId);\r\n    window.clearTimeout(this.appiumIntervalId);\r\n    this.appiumTimeoutId = window.setTimeout(() => {\r\n\r\n      let timeLeft = appiumCountdown;\r\n      this.appiumIntervalId = window.setInterval(() => {\r\n        if (timeLeft >= 0) {\r\n          const minutes = ('0' + Math.floor(timeLeft / 60)).slice(-2);\r\n          const seconds = ('0' + (timeLeft - minutes * 60)).slice(-2);\r\n          this.setState({\r\n            notification: createNotification('', i18n.t('vc.appium-timeout', {\r\n              time: minutes + ':' + seconds\r\n            }), Severity.INFO, false)\r\n          });\r\n        }\r\n        else {\r\n          this.setState({ notification: {} });\r\n          window.clearTimeout(this.appiumIntervalId);\r\n          closeSession(this.state.sessionId);\r\n          this.resetState();\r\n          this.setState({\r\n            notification: createNotification('', i18n.t('vc.appium-timeout-closed'), Severity.INFO)\r\n          });\r\n        }\r\n        timeLeft--;\r\n      }, 1000);\r\n\r\n    }, (appiumTimeout - appiumCountdown) * 1000);\r\n  }\r\n\r\n  onIncomingScreenshot = (orientation) => {\r\n    if (!this.state.initialised) {\r\n      this.setState({ initialised: true, recordedSteps: null });\r\n    }\r\n    if (this.state.orientation !== orientation) {\r\n      this.setState({ orientation });\r\n    }\r\n\r\n    window.clearTimeout(this.screenlockTimeoutId);\r\n    this.setState({ viewerVisibility: true });\r\n  }\r\n\r\n  onInitActionPerformed = (actionName) => {\r\n    this.setState({ actionProcessing: true, recordedSteps: null, notification: {} });\r\n\r\n    if (this.platformName === PlatformName.IOS && actionName === HWAction.SCREENLOCK.id) {\r\n      // TP-68891: Screen is not refreshed after screen lock on iOS\r\n      this.screenlockTimeoutId = window.setTimeout(() => {\r\n        this.setState({ viewerVisibility: false });\r\n      }, 2000);\r\n    }\r\n\r\n    this.resetAppiumTimeout();\r\n  }\r\n\r\n  resetState() {\r\n    this.setState({ sessionId: null,\r\n      initialised: false,\r\n      sessionClosed: true });\r\n  }\r\n\r\n  onActionPerformed = (actionName, recordedSteps, notification) => {\r\n    if (notification) {\r\n      this.setState({ notification });\r\n      if (isNotificationError(notification)) {\r\n        closeSession(this.state.sessionId);\r\n        this.resetState();\r\n      }\r\n    }\r\n    \r\n    if (!recordedSteps) recordedSteps = null;\r\n    \r\n    if (actionName === HWAction.CLOSE.id) {\r\n      this.setState({\r\n        notification: createNotification('', i18n.t('vc.close', { package: this.appPackage }), Severity.INFO)\r\n      });\r\n      this.resetState();\r\n    }\r\n    if (actionName === HWAction.REFRESH.id) {\r\n      this.setState({ refreshScreenshot: !this.state.refreshScreenshot });\r\n    }\r\n\r\n    this.setState({\r\n      actionProcessed: !this.state.actionProcessed,\r\n      recordedSteps: recordedSteps, \r\n      actionProcessing: false\r\n    });\r\n\r\n    this.resetAppiumTimeout();\r\n  };\r\n\r\n  onNotification = (notification) => {\r\n    this.setState({ notification });\r\n  }\r\n\r\n  onTestStepsMinimize = (minimized) => {\r\n  }\r\n\r\n  getDeviceDisplayName(deviceName) {\r\n    var match = /^(.*?)(:.*)/.exec(deviceName);\r\n    if (match && match.length > 2) {\r\n      const type = DeviceType[match[1].toUpperCase()];\r\n      if (type) {\r\n        deviceName = i18n.t('vc.type.' + type) + match[2];\r\n      }\r\n    }\r\n    return deviceName;\r\n  }\r\n\r\n  render() {\r\n    let viewerClass = 'vc-viewer' + ((this.state.sessionClosed) ? ' vc-viewer-closed' : '');\r\n    return (\r\n      <main className=\"vc\">\r\n        <header>\r\n          <span className=\"vc-logo\"/>\r\n          <Feedback />\r\n        </header>\r\n        <div className=\"vc-container\">\r\n          <DeviceToolBar\r\n            sessionId={this.state.sessionId}\r\n            platformName = {this.platformName}\r\n            deviceName = {this.deviceName}\r\n            orientation = {this.state.orientation}\r\n            closeListener = {this.closeListener}\r\n            onInitAction={this.onInitActionPerformed}\r\n            onAction={this.onActionPerformed}\r\n          />\r\n          \r\n          <div className=\"vc-content\">\r\n            <Notifier\r\n              notification = {this.state.notification}\r\n              onClose = {this.onNotification}/>\r\n\r\n            {!isNotificationError(this.state.notification) && (\r\n              <>\r\n                {this.state.initialised && \r\n                  <h1 className=\"vc-title\">{this.getDeviceDisplayName(this.deviceName)}</h1>\r\n                }\r\n                <div className={viewerClass}>\r\n                  <DeviceViewer\r\n                    sessionId = {this.state.sessionId}\r\n                    platformName = {this.platformName}\r\n                    visibility = {this.state.viewerVisibility}\r\n                    orientation = {this.state.orientation}\r\n                    actionProcessed = {this.state.actionProcessed}\r\n                    actionProcessing = {this.state.actionProcessing}\r\n                    refreshScreenshot = {this.state.refreshScreenshot}\r\n                    onInitAction={this.onInitActionPerformed}\r\n                    onAction = {this.onActionPerformed}\r\n                    onIncomingScreenshot = {this.onIncomingScreenshot}\r\n                    onNotification = { this.onNotification }\r\n                  />\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n\r\n          <DeviceTestSteps\r\n            sessionId = {this.state.sessionId}\r\n            recordedSteps = {this.state.recordedSteps}\r\n            actionProcessing = {this.state.actionProcessing}\r\n            sessionClosed = {this.state.sessionClosed}\r\n            onMinimize = {this.onTestStepsMinimize}\r\n          />\r\n        </div>\r\n      </main>\r\n    );\r\n  }\r\n}\r\n\r\nexport default VirtualClient;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport \"primereact/resources/themes/nova-light/theme.css\";\r\nimport \"primereact/resources/primereact.min.css\";\r\nimport './vendor/style.css';\r\nimport './index.css';\r\nimport VirtualClient from './VirtualClient';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<VirtualClient />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}